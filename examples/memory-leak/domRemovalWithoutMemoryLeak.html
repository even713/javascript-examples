	

<script>
function run() {

    function clicked(e) {
        console.log(e);
    }

    for (var i = 0; i < 1000; i++) {
        var span = document.createElement('span');
        span.addEventListener('click', clicked, false);
        document.body.appendChild(span);
        span = null;
    }

    setTimeout(function() {
        var spans = document.querySelectorAll('span');
        for (var i = 0; i < spans.length; i++) {
            var span = spans[i];
            span.removeEventListener('click', clicked, false);
            span.remove();
            span = null;
        }
        spans = null;
    }, 100);

}
</script>
<button onclick="run()">Run (no memory leak)</button>