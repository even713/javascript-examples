<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>From chrome demo</title>
  </head>
  <body>
    <div class="timerange">
      <a href="#" id="create">Create</a>
      <div class="container">

      </div>
    </div>

    <!-- <button type="button" id="create" name="button">Create</button> -->
  </body>
  <script src="../../vendor/jquery/jquery-2.0.2.min.js"></script>
  <script type="text/javascript">
  var Test = class {
    constructor(){
      this.data = [];
    }

    refresh() {
      //this.data = null;
      const data = [];
      var ul = document.createElement('ul');
      for (var i = 0; i < 1000; i++) {
        var li = document.createElement('li');
        ul.appendChild(li);
        data.push(li);
      }

      this.data = data;
      // $(".container").html("");
      // $(".container")[0].innerHTML = "";
      $(".container").empty();// this is the fastest
      $(".container").append(ul);
    }
  }

  //var detachedNodes;
const test = new Test();
  function create() {
    // var ul = document.createElement('ul');
    // for (var i = 0; i < 10; i++) {
    //   var li = document.createElement('li');
    //   ul.appendChild(li);
    // }
    // const detachedNodes = ul;

    // const test = new Test();
    test.refresh();
  }

  document.getElementById('create').addEventListener('click', create);
  </script>
</html>
